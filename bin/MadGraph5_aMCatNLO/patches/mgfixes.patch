--- ../old/MG5_aMC_v2_1_2/madgraph/various/banner.py    2014-07-03 15:37:56.000000001 +0200
+++ MG5_aMC_v2_1_2/madgraph/various/banner.py   2014-07-04 15:46:18.000000001 +0200
@@ -1116,9 +1116,11 @@
             # update the counter to pass to the next element
             nline -= 1
         
-    def __getattr__(self, tag):
+    def __getattr__(self, tag, default=None):
         if isinstance(tag, int):
             list.__getattr__(self, tag)
+        elif tag == 'info' or tag == "__setstate__":
+            return default #for pickle
         else:
             return self.info[tag]
             
diff -ur ../old/MG5_aMC_v2_1_2/madgraph/various/cluster.py MG5_aMC_v2_1_2/madgraph/various/cluster.py
--- ../old/MG5_aMC_v2_1_2/madgraph/various/cluster.py   2014-07-03 15:37:56.000000001 +0200
+++ MG5_aMC_v2_1_2/madgraph/various/cluster.py  2014-07-03 18:19:17.000000001 +0200
@@ -206,8 +206,8 @@
         while 1: 
             nb_iter += 1
             idle, run, finish, fail = self.control(me_dir)
-            if fail:
-                raise ClusterManagmentError('Some Jobs are in a Hold/... state. Please try to investigate or contact the IT team')
+            #if fail:
+                #raise ClusterManagmentError('Some Jobs are in a Hold/... state. Please try to investigate or contact the IT team')
             if idle + run == 0:
                 #time.sleep(20) #security to ensure that the file are really written on the disk
                 logger.info('All jobs finished')
@@ -1274,6 +1274,9 @@
         if log is None:
             log = '/dev/null'
         
+        text += 'OLDPWD=$PWD;'
+        text += 'if [ -n $CMSSW_BASE ]; then cd $CMSSW_BASE; eval `scramv1 runtime -sh`; cd $OLDPWD; fi;'        
+        
         text += prog
         if argument:
             text += ' ' + ' '.join(argument)

diff -ur ../old/MG5_aMC_v2_1_2/Template/LO/bin/internal/Gridpack/run.sh MG5_aMC_v2_1_2/Template/LO/bin/internal/Gridpack/run.sh
--- ../old/MG5_aMC_v2_1_2/Template/LO/bin/internal/Gridpack/run.sh      2014-04-01 09:44:13.000000001 +0200
+++ MG5_aMC_v2_1_2/Template/LO/bin/internal/Gridpack/run.sh     2014-06-29 18:34:42.000000001 +0200
@@ -78,37 +78,5 @@
     cd ..
 fi
 
-if [[ -e ./DECAY/decay ]]; then
-    cd DECAY
-    echo -$seed > iseed.dat
-    for ((i = 1 ;  i <= 20;  i++)) ; do
-       if [[ -e decay_$i\.in ]]; then
-           echo "Decaying events..."
-           mv ../events.lhe ../events_in.lhe
-           ./decay < decay_$i\.in
-       fi
-    done
-    cd ..
-fi
-
-if [[ -e ./REPLACE/replace.pl ]]; then
-    for ((i = 1 ;  i <= 20;  i++)) ; do
-       if [[ -e ./REPLACE/replace_card$i\.dat ]];then
-           echo "Adding flavors..."
-           mv ./events.lhe ./events_in.lhe
-           cd ./REPLACE
-           ./replace.pl ../events_in.lhe ../events.lhe < replace_card$i\.dat
-           cd ..
-       fi
-    done
-fi
-
-# part added by Stephen Mrenna to correct the kinematics of the replaced
-#  particles
-if [[ -e ./madevent/bin/internal/addmasses.py ]]; then
-  mv ./events.lhe ./events.lhe.0
-  python ./madevent/bin/internal/addmasses.py ./events.lhe.0 ./events.lhe
-fi  
-
 gzip -f events.lhe
 exit
